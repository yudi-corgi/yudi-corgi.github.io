<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.89" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"分片并不意味着分布式","image":["https://blog.yudi-corgi.site/assets/images/minions_cover9.jpg"],"datePublished":"2023-10-12T00:00:00.000Z","dateModified":"2024-02-03T13:09:37.000Z","author":[{"@type":"Person","name":"YUDI-Corgi","url":"https://github.com/yudi-corgi"}]}</script><meta property="og:url" content="https://blog.yudi-corgi.site/posts/reprint/sharded_does_not_imply_distributed.html"><meta property="og:site_name" content="Black Hole"><meta property="og:title" content="分片并不意味着分布式"><meta property="og:description" content="介绍数据库分片与分布式数据库的区别"><meta property="og:type" content="article"><meta property="og:image" content="https://blog.yudi-corgi.site/assets/images/minions_cover9.jpg"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-02-03T13:09:37.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:src" content="https://blog.yudi-corgi.site/assets/images/minions_cover9.jpg"><meta name="twitter:image:alt" content="分片并不意味着分布式"><meta property="article:tag" content="杂谈"><meta property="article:published_time" content="2023-10-12T00:00:00.000Z"><meta property="article:modified_time" content="2024-02-03T13:09:37.000Z"><link rel="icon" type="image/svg+xml" href="/text.svg"><link rel="alternate" type="application/atom+xml" href="https://blog.yudi-corgi.site/atom.xml" title="Black Hole Atom Feed"><title>分片并不意味着分布式 | Black Hole</title><meta name="description" content="介绍数据库分片与分布式数据库的区别">
    <link rel="preload" href="/assets/style-3sxs_LIv.css" as="style"><link rel="stylesheet" href="/assets/style-3sxs_LIv.css">
    <link rel="modulepreload" href="/assets/app-Da30OdVP.js"><link rel="modulepreload" href="/assets/sharded_does_not_imply_distributed.html-BBaYGf8o.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-Bghy8KYx.js" as="script"><link rel="prefetch" href="/assets/intro.html-B2SmiQF6.js" as="script"><link rel="prefetch" href="/assets/enum_convert.html-CTfKoFAR.js" as="script"><link rel="prefetch" href="/assets/distributed_transaction.html-EPRnAGJF.js" as="script"><link rel="prefetch" href="/assets/jenkins_pipeline.html-DDXe__A9.js" as="script"><link rel="prefetch" href="/assets/tcp.html-Bq6rGbOz.js" as="script"><link rel="prefetch" href="/assets/java-string.html-nXwq46Os.js" as="script"><link rel="prefetch" href="/assets/jdk7-HashMap.html-Bgamls6a.js" as="script"><link rel="prefetch" href="/assets/jdk8-HashMap.html-CYvuJjBO.js" as="script"><link rel="prefetch" href="/assets/jvm-class-loading-mechanism.html-B5n0YnXn.js" as="script"><link rel="prefetch" href="/assets/jvm-memory-model.html-DYO9sJg9.js" as="script"><link rel="prefetch" href="/assets/how_does_b-tree_make_your_queries_fast.html-BMCQaegp.js" as="script"><link rel="prefetch" href="/assets/is_it_time_to_ditch_mysql_and_postgresql_for_sqlite.html-B1HedkwP.js" as="script"><link rel="prefetch" href="/assets/webSockets_vs_server-sent-events_vs_long-polling_vs_webrtc_vs_webtransport.html-B8fOOPG2.js" as="script"><link rel="prefetch" href="/assets/why_is_oauth_still_hard_in_2025.html-DFF3pEH4.js" as="script"><link rel="prefetch" href="/assets/J2Cache.html-CLUu4Zdw.js" as="script"><link rel="prefetch" href="/assets/spring_cloud_stream_one.html-BfkYtQ6t.js" as="script"><link rel="prefetch" href="/assets/spring_cloud_stream_three.html-DX4Oq_yg.js" as="script"><link rel="prefetch" href="/assets/spring_cloud_stream_two.html-CYbyWBvM.js" as="script"><link rel="prefetch" href="/assets/spring_transaction_synchronization.html-95fL1ugY.js" as="script"><link rel="prefetch" href="/assets/spring_websocket_one.html-CTKTowwo.js" as="script"><link rel="prefetch" href="/assets/spring_websocket_two.html-CyJ2rcZS.js" as="script"><link rel="prefetch" href="/assets/404.html-CaGcsQPh.js" as="script"><link rel="prefetch" href="/assets/index.html-LhppAXyW.js" as="script"><link rel="prefetch" href="/assets/index.html-SoIn-Dgg.js" as="script"><link rel="prefetch" href="/assets/index.html-Crvl5WUz.js" as="script"><link rel="prefetch" href="/assets/index.html-B31eOEOV.js" as="script"><link rel="prefetch" href="/assets/index.html-C_8WCxJK.js" as="script"><link rel="prefetch" href="/assets/index.html-DJb7px1i.js" as="script"><link rel="prefetch" href="/assets/index.html-B-YBxMmj.js" as="script"><link rel="prefetch" href="/assets/index.html-BWyJNAw0.js" as="script"><link rel="prefetch" href="/assets/index.html-Ddnqj2hw.js" as="script"><link rel="prefetch" href="/assets/index.html-CF97O6q_.js" as="script"><link rel="prefetch" href="/assets/index.html-CcwjsmZM.js" as="script"><link rel="prefetch" href="/assets/index.html-DcAy99XJ.js" as="script"><link rel="prefetch" href="/assets/index.html-D_k0XlmX.js" as="script"><link rel="prefetch" href="/assets/index.html-BQ1wuVkX.js" as="script"><link rel="prefetch" href="/assets/index.html-DfbnZc-5.js" as="script"><link rel="prefetch" href="/assets/index.html-DPU0RtBR.js" as="script"><link rel="prefetch" href="/assets/index.html-6fRghK9M.js" as="script"><link rel="prefetch" href="/assets/index.html-BTys1hV6.js" as="script"><link rel="prefetch" href="/assets/index.html-D1acH7ss.js" as="script"><link rel="prefetch" href="/assets/index.html-CidxgMmP.js" as="script"><link rel="prefetch" href="/assets/index.html-lauWeOi3.js" as="script"><link rel="prefetch" href="/assets/index.html-ZmC6zs_y.js" as="script"><link rel="prefetch" href="/assets/index.html-Cv2FRnVz.js" as="script"><link rel="prefetch" href="/assets/index.html-BwU_rtFE.js" as="script"><link rel="prefetch" href="/assets/index.html-BOEbYio0.js" as="script"><link rel="prefetch" href="/assets/index.html-BFshikHu.js" as="script"><link rel="prefetch" href="/assets/index.html-BP53LnkI.js" as="script"><link rel="prefetch" href="/assets/index.html-GMnRrmZG.js" as="script"><link rel="prefetch" href="/assets/index.html-B2-3m5pA.js" as="script"><link rel="prefetch" href="/assets/index.html-DEzO_cDr.js" as="script"><link rel="prefetch" href="/assets/index.html-D3ACP-QX.js" as="script"><link rel="prefetch" href="/assets/index.html-B7O7xVR7.js" as="script"><link rel="prefetch" href="/assets/index.html-Cgmx50pS.js" as="script"><link rel="prefetch" href="/assets/index.html-D_vhcz6g.js" as="script"><link rel="prefetch" href="/assets/index.html-BUE_M77w.js" as="script"><link rel="prefetch" href="/assets/index.html-Yb2QXPNA.js" as="script"><link rel="prefetch" href="/assets/index.html-DsrWJTIV.js" as="script"><link rel="prefetch" href="/assets/index.html-CVMf_2bG.js" as="script"><link rel="prefetch" href="/assets/index.html-DWhaSw_k.js" as="script"><link rel="prefetch" href="/assets/index.html-B5EuUlRn.js" as="script"><link rel="prefetch" href="/assets/index.html-CdzhZPEz.js" as="script"><link rel="prefetch" href="/assets/index.html-C-XUKo-G.js" as="script"><link rel="prefetch" href="/assets/index.html-3DUQd9Lc.js" as="script"><link rel="prefetch" href="/assets/index.html-Dnj0tte8.js" as="script"><link rel="prefetch" href="/assets/auto-BtC3bP42.js" as="script"><link rel="prefetch" href="/assets/index-BZSEhAeG.js" as="script"><link rel="prefetch" href="/assets/flowchart-CTwbLKUk.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-5hCtdfU9.js" as="script"><link rel="prefetch" href="/assets/vue-repl-CUoMYepb.js" as="script"><link rel="prefetch" href="/assets/codemirror-editor-DeB63Ln5.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-DXWKOczD.js" as="script"><link rel="prefetch" href="/assets/waline-meta-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/component-3UxZ-6OR.js" as="script"><link rel="prefetch" href="/assets/SearchResult-CUM0f9Z9.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/logo.png" alt><!----><span class="vp-site-name hide-in-pad">Black Hole</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="博客主页"><!--[--><iconify-icon class="vp-icon" icon="home" height="1em" sizing="height"></iconify-icon><!--]-->博客主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="精选文章"><!--[--><iconify-icon class="vp-icon" icon="fluent-emoji-flat:star" height="1em" sizing="height"></iconify-icon>精选文章<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/posts/framework/spring/spring_transaction_synchronization.html" aria-label="Spring 事务同步"><!--[--><iconify-icon class="vp-icon" icon="devicon:spring" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->Spring 事务同步<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/posts/java/java-string.html" aria-label="深入浅出 String 字符串"><!--[--><iconify-icon class="vp-icon" icon="ant-design:field-string-outlined" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->深入浅出 String 字符串<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/posts/distribute/jenkins_pipeline.html" aria-label="Jenkins 流水线快速理解"><!--[--><iconify-icon class="vp-icon" icon="vscode-icons:file-type-jenkins" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->Jenkins 流水线快速理解<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://xiaolincoding.com/interview/" aria-label="Java" rel="noopener noreferrer" target="_blank"><!--[--><iconify-icon class="vp-icon" icon="devicon:java" height="1em" sizing="height"></iconify-icon><!--]-->Java<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://xiaolincoding.com/mysql/" aria-label="数据库" rel="noopener noreferrer" target="_blank"><!--[--><iconify-icon class="vp-icon" icon="icon-park:blocks-and-arrows" height="1em" sizing="height"></iconify-icon><!--]-->数据库<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/intro.html" aria-label="关于作者"><!--[--><iconify-icon class="vp-icon" icon="openmoji:black-hole" height="1em" sizing="height"></iconify-icon><!--]-->关于作者<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/yudi-corgi" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">搜索</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/" aria-label="博客主页"><!--[--><iconify-icon class="vp-icon" icon="home" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->博客主页<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="book" width="1em" height="1em" sizing="both"></iconify-icon><span class="vp-sidebar-title">Java</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="book" width="1em" height="1em" sizing="both"></iconify-icon><span class="vp-sidebar-title">框架</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="book" width="1em" height="1em" sizing="both"></iconify-icon><span class="vp-sidebar-title">分布式领域</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="book" width="1em" height="1em" sizing="both"></iconify-icon><span class="vp-sidebar-title">开发技巧</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><iconify-icon class="vp-icon" icon="book" width="1em" height="1em" sizing="both"></iconify-icon><span class="vp-sidebar-title">杂谈</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/posts/reprint/sharded_does_not_imply_distributed.html" aria-label="分片并不意味着分布式"><!--[--><iconify-icon class="vp-icon" icon="tabler:blade" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->分片并不意味着分布式<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/posts/reprint/is_it_time_to_ditch_mysql_and_postgresql_for_sqlite.html" aria-label="是时候放弃 MySQL 和 PostgreSQL 而转而使用 SQLite 了吗？"><!--[--><iconify-icon class="vp-icon" icon="file-icons:sqlite" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->是时候放弃 MySQL 和 PostgreSQL 而转而使用 SQLite 了吗？<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/posts/reprint/how_does_b-tree_make_your_queries_fast.html" aria-label="B 树如何让您的查询更快？"><!--[--><iconify-icon class="vp-icon" icon="carbon:tree-view" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->B 树如何让您的查询更快？<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/posts/reprint/webSockets_vs_server-sent-events_vs_long-polling_vs_webrtc_vs_webtransport.html" aria-label="WebSocket vs SSE vs Long-Polling vs WebRTC vs WebTransport"><!--[--><iconify-icon class="vp-icon" icon="maki:communications-tower" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->WebSocket vs SSE vs Long-Polling vs WebRTC vs WebTransport<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/posts/reprint/why_is_oauth_still_hard_in_2025.html" aria-label="为什么 OAuth 在 2025 年仍然难以实现？"><!--[--><iconify-icon class="vp-icon" icon="devicon-plain:oauth" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->为什么 OAuth 在 2025 年仍然难以实现？<!----></a></li></ul></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/intro.html" aria-label="关于作者"><!--[--><iconify-icon class="vp-icon" icon="circle-info" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->关于作者<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="/assets/images/minions_cover9.jpg" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><iconify-icon class="vp-icon" icon="tabler:blade" height="1em" sizing="height"></iconify-icon>分片并不意味着分布式</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/yudi-corgi" target="_blank" rel="noopener noreferrer">YUDI-Corgi</a></span><span property="author" content="YUDI-Corgi"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2023/10/12</span><meta property="datePublished" content="2023-10-12T00:00:00.000Z"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color1 clickable" role="navigation">杂谈</span><!--]--><meta property="articleSection" content="杂谈"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color1 clickable" role="navigation">杂谈</span><!--]--><meta property="keywords" content="杂谈"></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 8 分钟</span><meta property="timeRequired" content="PT8M"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h2 id="写在前头" tabindex="-1"><a class="header-anchor" href="#写在前头"><span>写在前头</span></a></h2><p>本篇是 <a href="https://medium.com/@magda7817/sharded-does-not-imply-distributed-572fdafc4040" target="_blank" rel="noopener noreferrer">Sharded Does Not Imply Distributed</a> 一文的翻译。对于后端人员来说，分片的概念并不陌生，诸如 ElasticSearch、Redis、MySQL 等数据库都有针对于分片的实现方案来解决某些业务场景。文中对数据库分片与分布式数据库的主要区别做了说明，但请注意：<strong>分片数据库也是分布式系统</strong>。</p><p><strong>以下是太长不看版（由 AI 整理）</strong>：</p><p>文章《分片并不意味着分布式》主要讨论了数据库分片（Sharding）与分布式数据库（Distributed Databases）之间的区别：</p><ol><li><strong>分片（Sharding）</strong>：分片是一种技术，它通过将原始数据集拆分为多个分片（shards），并将这些分片分布在多个独立的数据库实例上来实现水平可扩展性。分片解决方案的关键组件是协调器（coordinator），它负责了解数据分布并映射客户端请求到特定的分片和数据库实例。分片数据库实例不相互通信，它们存在于孤立的环境中。</li><li><strong>分布式数据库</strong>：分布式数据库采用分片技术在数据库节点集群中分布数据和负载，但它们建立在无共享架构之上，不依赖于协调器组件。集群中的所有节点都了解彼此和数据分布，可以直接路由客户端请求到适当的分片所有者，并执行多节点事务。分布式数据库在扩展时会自动重新平衡和拆分分片，节点维护数据的冗余副本，即使部分节点故障也能继续操作。</li><li><strong>分片与分布式的区别</strong>：分片涉及将数据拆分到多个独立实例，但这并不意味着系统是分布式的（单机多实例）。分布式数据库则没有中央协调器，其节点相互了解，管理数据分布，并无缝处理客户端请求。</li><li><strong>数据库设计选择</strong>：理解分片和分布式数据库的细微差别对于数据库的设计和选择至关重要，因为它们各自有不同的优点和适用场景。</li></ol><p>文章也提到，如果读者对分片数据库架构感兴趣，可以考虑探索 CitusData 或 Azure CosmosDB for PostgreSQL、Vitess for MySQL、Oracle Distributed Autonomous Database 和 MongoDB Sharded Cluster。而对于真正的分布式数据库架构，可以考虑研究 Google Spanner、YugabyteDB、CockroachDB、Apache Cassandra 或 Apache Ignite。</p><p><strong>以下是原本+翻译：</strong></p><h2 id="分片并不意味着分布式-sharded-does-not-imply-distributed" tabindex="-1"><a class="header-anchor" href="#分片并不意味着分布式-sharded-does-not-imply-distributed"><span>分片并不意味着分布式 <br>Sharded Does Not Imply Distributed</span></a></h2><p>Sharding is a technique that distributes data and load across several standalone database instances. This method leverages horizontal scalability by splitting the original dataset into shards, which are then distributed across multiple database instances.<br> 分片是一种在多个独立数据库实例之间分配数据和负载的技术。此方法通过将原始数据集拆分为分片，然后将其分布在多个数据库实例中来利用水平可扩展性。</p><figure><img src="/assets/sharding1-D4euwY-P.webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>But, even though the verb “distributes” appears in the definition of sharding, a sharded database is not a distributed one.<br> 但是，即使分片的定义中出现了动词“分布”，分片数据库也不是分布式数据库。</p><h2 id="分片解决方案-sharding-solutions" tabindex="-1"><a class="header-anchor" href="#分片解决方案-sharding-solutions"><span>分片解决方案 <br>Sharding Solutions</span></a></h2><p>Every sharding solution has one critical component in its architecture. This component can go by various names, including coordinator, router, or director:<br> 每一种分片解决方案的架构中都有一个关键组件。该组件可以有各种名称，包括协调器、路由器或导向器：</p><figure><img src="/assets/sharding2-DCHpfBHQ.webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>The coordinator is the sole component aware of data distribution. It maps client requests to specific shards and then to the corresponding database instance. This is why clients must always route their requests through the coordinator.<br> 协调器是唯一了解数据分布的组件。它将客户端请求映射到特定的分片，然后映射到相应的数据库实例。这就是为什么客户端必须始终通过协调器路由其请求。</p><p>For example, if a client wants to insert a new record into the <code>Car</code>table, the request first goes to the coordinator. The coordinator maps the record’s primary key to one of the shards and then forwards the request to the database instance responsible for that shard.<br> 例如，如果客户端想要将新记录插入 <code>Car</code> 表中，则请求首先发送到协调器。协调器将记录的主键映射到其中一个分片，然后将请求转发到负责该分片的数据库实例。</p><figure><img src="/assets/sharding3-Cis-c76P.webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>In the schema above, first, the coordinator maps key <code>121</code> to shard <code>10</code> and, second, inserts the record into table <code>car_10</code> that is stored on the database instance owning shard <code>10</code><br> 在上面的架构中，首先，协调器将键 <code>121</code> 映射到分片 <code>10</code> ，然后将记录插入到存储在数据库实例上的表 <code>car_10</code> 中拥有分片 <code>10</code></p><p>However, one question remains: Why is the coordinator even needed in sharding solutions? The answer is straightforward. The shards are stored on database instances designed for single-server deployments.<br> 然而，仍然存在一个问题：为什么分片解决方案中甚至需要协调器？答案很简单。分片存储在专为单服务器部署而设计的数据库实例上。</p><p><em>These database instances do not communicate with each other, nor do they support any protocols that would facilitate such communication. Unaware of each other, they exist in their own isolated environments, oblivious to the fact that they are part of a larger system.<br> 这些数据库实例不相互通信，也不支持任何促进此类通信的协议。他们彼此不知情，存在于自己孤立的环境中，没有意识到自己是一个更大系统的一部分。</em></p><p>Consequently, the coordinator is indispensable in sharding solutions. If you’re interested in delving deeper into sharded database architectures, consider exploring CitusData or Azure CosmosDB for PostgreSQL, Vitess for MySQL, Oracle Distributed Autonomous Database, and MongoDB Sharded Cluster.<br> 因此，协调器在分片解决方案中是不可或缺的。如果您有兴趣深入研究分片数据库架构，请考虑探索 CitusData 或 Azure CosmosDB for PostgreSQL、Vitess for MySQL、Oracle 分布式自治数据库和 MongoDB 分片集群。</p><h2 id="分布式数据库-distributed-databases" tabindex="-1"><a class="header-anchor" href="#分布式数据库-distributed-databases"><span>分布式数据库 <br>Distributed Databases</span></a></h2><p>Much like sharded database solutions, distributed databases also employ similar sharding techniques to distribute data and load across a cluster of database nodes. However, unlike sharding solutions, distributed databases do not rely on a coordinator component.<br> 与分片数据库解决方案非常相似，分布式数据库也采用类似的分片技术来跨数据库节点集群分布数据和加载。然而，与分片解决方案不同，分布式数据库不依赖于协调器组件。</p><p><strong>Distributed databases are built on a shared-nothing architecture</strong>, which doesn’t have a single component, like the coordinator, burdened with making numerous decisions:<br><strong>分布式数据库建立在无共享架构之上</strong>，该架构没有像协调器这样的单一组件，需要做出大量决策：</p><figure><img src="/assets/distributed1-iDZVjPaw.webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><em>All nodes in the cluster are aware of each other and, consequently, the data distribution. By communicating directly, each node can route a client request to the appropriate shard owner. Additionally, they can execute and coordinate multi-node transactions. When scaling to more nodes, the cluster automatically rebalances and splits shards. The nodes maintain redundant copies of data (based on a configured replication factor) and can continue operations without downtime, even if some nodes fail.<br> 集群中的所有节点都了解彼此，从而了解数据分布。通过直接通信，每个节点都可以将客户端请求路由到适当的分片所有者。此外，它们还可以执行和协调多节点交易。当扩展到更多节点时，集群会自动重新平衡并拆分分片。节点维护数据的冗余副本（基于配置的复制因子），并且即使某些节点出现故障，也可以在不停机的情况下继续操作。</em></p><p>All of this operates transparently for the client, who simply needs to establish a connection with any of the nodes and allow that node to manage the distributed aspects.<br> 所有这些对客户端来说都是透明的，客户端只需与任何节点建立连接并允许该节点管理分布式方面。</p><p>For example, a client might connect to <code>node1</code> and insert a new <code>Car</code> record with the id <code>121</code>. If <code>node1</code> is the owner of the record’s shard, then it will store the record locally and employ a consensus algorithm to replicate the change to a subset of other nodes. If not, <code>node1</code> will forward the record to the shard’s owner, which might be <code>node4</code>.<br> 例如，客户端可能连接到 <code>node1</code> 并插入 ID 为 <code>121</code> 的新 <code>Car</code> 记录。如果 <code>node1</code> 是记录分片的所有者，那么它将在本地存储该记录，并采用共识算法将更改复制到其他节点的子集。如果不是， <code>node1</code> 会将记录转发给分片的所有者，该所有者可能是 <code>node4</code> 。</p><figure><img src="/assets/distributed2-DWUnf3SM.webp" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>If you’re interested in exploring the architectures of genuine distributed databases, consider looking into Google Spanner, YugabyteDB, CockroachDB, Apache Cassandra, or Apache Ignite.<br> 如果您有兴趣探索真正的分布式数据库的架构，请考虑研究 Google Spanner、YugabyteDB、CockroachDB、Apache Cassandra 或 Apache Ignite。</p><p>In the realm of databases, sharding and distribution are often conflated, but they serve distinct purposes.<br> 在数据库领域，分片和分布经常被混为一谈，但它们有不同的目的。</p><p>While sharding involves splitting data across multiple standalone instances, it doesn’t inherently mean the system is distributed. The presence of a coordinator in sharding solutions, which directs client requests to the appropriate shard, underscores this distinction.<br> 虽然分片涉及将数据拆分到多个独立实例中，但这并不意味着系统本质上是分布式的。分片解决方案中协调器的存在，将客户端请求引导到适当的分片，强调了这种区别。</p><p>On the other hand, distributed databases, built on a shared-nothing architecture, lack this centralized coordinator. Nodes in these systems are aware of each other, manage data distribution, and handle client requests seamlessly.<br> 另一方面，建立在无共享架构之上的分布式数据库缺乏这种集中的协调器。这些系统中的节点相互了解、管理数据分发并无缝处理客户端请求。</p><p>Both architectures have their merits, and understanding their nuances is crucial for informed database design and selection.<br> 两种架构都有其优点，了解它们的细微差别对于明智的数据库设计和选择至关重要。</p></div><!----><!----><!----></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><!----><a class="route-link auto-link next" href="/posts/reprint/is_it_time_to_ditch_mysql_and_postgresql_for_sqlite.html" aria-label="是时候放弃 MySQL 和 PostgreSQL 而转而使用 SQLite 了吗？"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">是时候放弃 MySQL 和 PostgreSQL 而转而使用 SQLite 了吗？<iconify-icon class="vp-icon" icon="file-icons:sqlite" height="1em" sizing="height"></iconify-icon></div></a></nav><div id="comment" class="waline-wrapper vp-comment" vp-comment darkmode="false" style="display:none;"><!----></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><!----><div class="vp-copyright">Copyright © 2020-2025 by <a href="https://github.com/yudi-corgi">YUDI-Corgi</a> | <a href='https://opensource.org/licenses/MIT'>MIT LICENSE</a></div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Da30OdVP.js" defer></script>
  </body>
</html>
